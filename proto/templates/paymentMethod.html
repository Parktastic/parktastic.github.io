<ion-view title="Payment Method" ng-init="payment = { mode : 'mpesa' }">
    <ion-nav-buttons side="primary">
        <a class="button button-clear button-assertive" ui-sref="services">
            Back
        </a>
    </ion-nav-buttons>
    <ion-content padding="true" class="has-header">
        <form class="list">
            <label class="item item-input item-select">
                <div class="input-label">
                    Pay with
                </div>
                <select ng-model="payment.mode">
                    <option value="mpesa">MPESA</option>
                    <option value="credit-card">Credit Card</option>
                </select>
            </label>
            <div ng-show="payment.mode == 'credit-card'">
                <div class="item item-divider">
                    Card Details
                </div>
                <label class="item item-input">
                    <span class="input-label">Card Number</span>
                    <input type="text" ng-model="payment.cardnumber" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Security Code</span>
                    <input type="text" ng-model="payment.code" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Expiration Month</span>
                    <input type="month" ng-model="payment.expiry" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Name on Card</span>
                    <input type="text" ng-model="payment.cardname" placeholder="">
                </label>
            </div>
            <div ng-show="payment.mode == 'mpesa'">
                <div class="item item-divider">
                    MPESA Payment Instructions
                </div>
                <div class="item">
                    <p>1. Go to <b>M-PESA</b>  menu on your phone</p>
                    <p>2. Go to <b>Lipa na M-PESA, Buy Goods and Services</b> option</p>
                    <p>3. Enter <b>981002</b></p>
                    <p>4. Enter <b>{{fee | currency : 'Kshs. '}}</b> as the amount.</p>
                    <p>5. Enter your M-PESA pin.</p>
                    <p>6. You will receive an MPESA confirmation on your phone. Enter the code below, to complete payment.</p>
                </div>
                <div class="item item-divider">
                    Payment Details
                </div>
                <label class="item item-input">
                    <span class="input-label">Confirmation Code</span>
                    <input type="text" ng-model="payment.mpesacode" placeholder="">
                </label>
            </div>
        </form>
        <div class="spacer" style="width: 300px; height: 22px;"></div>
        <button class="button button-balanced button-block" ng-click="completeRequest(payment)">Complete Request</button>
    </ion-content>
</ion-view>